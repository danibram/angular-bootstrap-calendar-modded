<script type="text/ng-template" id="myPopoverTemplate.html">
  <div>{{dynamicPopover.content}}</div>
  <div class="form-group">
    <label>Popup Title:</label>
    <input type="text" ng-model="dynamicPopover.title" class="form-control">
  </div>
</script>
<div class="cal-week-box" ng-class="{'cal-day-box': (vm.showTimes||vm.category.showCategories)}">
  <div class="row">
    <div class="col-xs-1 row-header" ng-if="vm.category.templateHeaderList">{{vm.category.templateHeaderList}}</div>
    <div class="col-xs-1 row-header" ng-if="vm.category.categoryHeaderList">{{vm.category.categoryHeaderList}}</div>
    <div class="col-xs-10">
      <div
        ng-class="'cal-hour-' + vm.hours.length"
        style="display: inline-block;text-align:center;padding: 5px 0;"
        ng-repeat="hour in vm.hours track by $index"
        mwl-element-dimensions="vm.dayColumnDimensions">

        <span ng-bind="hour.label"></span>

      </div>
    </div>

  </div>

  <div class="cal-day-panel clearfix" ng-style="{height: (vm.showTimes||vm.category.showCategories) ? (vm.dayViewHeight + 'px') : 'auto'}">

    <mwl-calendar-hour-list
      day-view-start="vm.dayViewStart"
      day-view-end="vm.dayViewEnd"
      day-view-split="vm.dayViewSplit"
      view-date="vm.viewDate"
      on-timespan-click="vm.onTimespanClick"
      ng-if="vm.showTimes">
    </mwl-calendar-hour-list>

    <mwl-calendar-category-list
      categories="vm.categories"
      ng-if="vm.category.showCategories">
    </mwl-calendar-category-list>

    <div class="row">
      <div class="col-xs-2"></div>
      <div class="col-xs-10">
        <div
          style="position:relative;"
          ng-repeat="event in vm.view track by event.$id"
          ng-style="{
            top: event.top + 'px',
            position: 'inherit'
          }">
          <div
            ng-class="'grid-hour-' + vm.hours.length + '-' + event.hourSpan +  ' grid-hour-left-' + vm.hours.length + '-' + event.dayOffset + ' day-highlight dh-event-' + event.type + ' ' + event.cssClass"
            ng-style="{
              top: '0px',
              position: 'absolute',
              width: '',
              left: ''
            }"
            data-event-class
            mwl-draggable="event.draggable === true"
            axis="(vm.showTimes||vm.category.showCategories) ? 'xy' : 'x'"
            snap-grid="(vm.showTimes||vm.category.showCategories) ? {x: vm.dayColumnDimensions.width, y: 30} : {x: vm.dayColumnDimensions.width}"
            on-drag="vm.eventDragged(event, y)"
            on-drag-end="vm.eventDragComplete(event, x, y)"
            mwl-resizable="event.resizable === true && event.endsAt && !(vm.showTimes)"
            resize-edges="{left: true, right: true}"
            on-resize="vm.eventResized(event, edge, x)"
            on-resize-end="vm.eventResizeComplete(event, edge, x)"
            uib-tooltip-html="event.tooltip(event) | calendarTrustAsHtml"
            tooltip-placement="bottom"
            tooltip-append-to-body="true">
            <strong ng-bind="(event.tempStartsAt || event.startsAt) | calendarDate:'time':true" ng-show="vm.showTimes"></strong>
            <a
              href="javascript:;"
              ng-click="vm.onEventClick({calendarEvent: event})"
              class="event-item"
              ng-bind-html="vm.$sce.trustAsHtml(event.title)">
            </a>
          </div>
        </div>
      </div>

    </div>

  </div>
</div>
